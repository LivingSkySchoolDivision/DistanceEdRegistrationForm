@page
@using LSSD.DistanceEdReg
@using LSSD.DistanceEdReg.Data
@using LSSD.DistanceEdReg.Util
@using Microsoft.Extensions.Configuration;
@inject LSSDDistanceEdReg.WebFrontEnd.Services.DistanceEdClassService distanceEdClassService
@inject LSSDDistanceEdReg.WebFrontEnd.Services.DistanceEdRequestService distanceEdRequestService
@model LSSDDistanceEdReg.WebFrontEnd.ManualRegEntryModel
@{
    ViewData["Title"] = "ManualRegEntry";
    Layout = "~/Pages/Shared/_LayoutAdmin.cshtml";

    List<DistanceEdClass> allClasses = distanceEdClassService.GetAll().OrderBy(x => x.Name).ToList();
}

<h1>Manual Reg Entry</h1>
<p>Registrations made with this form will not trigger email/help desk alerts.</p>
<br />
@foreach (string errmsg in Model.regErrors)
{
    <div class="alert alert-danger">
        <strong>Error:</strong> @errmsg
    </div>
}
@foreach (string sucmsg in Model.regSuccess)
{
    <div class="alert alert-success">
        @sucmsg
    </div>
}
<form method="post" asp-page-handler="FormSubmit" style="display: inline;">
    <table border="0" cellpadding="5" cellspacing="5">
        <tr>
            <td valign="top"><b>Requestor Name</b></td>
            <td valign="top"><input name="txtRequestor" class="form-control" type="text" style="width: 500px;" placeholder="Alfred Pennyworth" required></td>
        </tr>
        <tr>
            <td valign="top"><b>Student Name</b></td>
            <td valign="top"><input name="txtStudentName" class="form-control" type="text" style="width: 500px;" placeholder="Bruce Wayne" required></td>
        </tr>
        <tr>
            <td valign="top"><b>Student Number</b></td>
            <td valign="top"><input name="txtStudentNumber" class="form-control" type="text" style="width: 500px;" placeholder="123456789" required></td>
        </tr>
        <tr>
            <td valign="top"><b>Student Base School</b></td>
            <td valign="top"><input name="txtStudentSchool" class="form-control" type="text" style="width: 500px;" placeholder="Miskatonic High School" required></td>
        </tr>
        <tr>
            <td valign="top"><b>Additional Notes</b></td>
            <td valign="top"><textarea name="txtNotes" class="form-control"></textarea></td>
        </tr>

        <tr>
            <td valign="top"><b>Course</b></td>
            <td>
                <select name="drpCourses" class="custom-select">
                    @foreach (DistanceEdClass c in allClasses)
                    {
                        <option value="@c.ID">@c.Name</option>
                    }
                </select>
            </td>
        </tr>
        <tr>
            <td valign="top">
                <b>Mentor Teacher</b><br />
            </td>
            <td valign="top">
                <input name="txtMentor" type="text" class="form-control" style="width: 500px;" placeholder="Mentor Teacher Name" />
            </td>
        </tr>
        <tr>
            <td valign="top">&nbsp;</td>
            <td cospan="1" align="center" valign="top">
                <button class="btn btn-primary large" style="margin-left: 10px;">Submit Registration</button>
            </td>
        </tr>
    </table>
</form>